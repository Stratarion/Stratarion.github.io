<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body>
    <section class="firstscreen">
        <div class="firstscreen-info">
            <div class="firstscreen-info-left">
                <div class="firstscreen-logo">
                    <img src="./img/mainlogo.png">
                </div>
                <div class="firstscreen-menu swipetop">
                    <ul>
                        <li><a href="#style">About style</a></li>
                        <li><a href="#">Stages of development</a></li>
                        <li><a href="#">Architects</a></li>
                    </ul>
                </div>
            </div>
            <div class="firstscreen-info-right swipetop">
                <h1>SOVIET MODERNISM</h1>

            </div>
        </div>
        <div id="firstscreencarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                <img src="./img/main1.jpg" class="d-block w-100">
                </div>
                <div class="carousel-item">
                <img src="./img/main2.png" class="d-block w-100">
                </div>
                <div class="carousel-item">
                <img src="./img/main3.jpg" class="d-block w-100">
                </div>
            </div>
            <div class="buttons-layout">
                <button class="carousel-control-prev" type="button" data-bs-target="#firstscreencarousel" data-bs-slide="prev">
                    <img src="./img/scrollleft.png">
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#firstscreencarousel" data-bs-slide="next">
                    <img src="./img/Property 1=hover.png">
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>
    </section>
    <section id="style">
        <div class="style">
            <h2>About style</h2>
            <div class="style-list">
                <div class="style-item">
                    <p class="style-text-main">
                        Architectural modernism is not just a style, but a large-scale phenomenon
                        that conquered the whole world in the middle of the last century. Regardless
                        of ideologies and cultures, architects around the world «spoke» a common language.
                    </p>
                    <div class="style-image">
                        <p class="style-image-description">
                            Moscow, Russia,<br>
                            Ostankino television and radio broadcasting tower
                        </p>
                        <img src="./img/style1.png">
                    </div>
                </div>
                <div class="style-item style-item-honest">
                    <div class="style-image">
                        <img src="./img/style2.png">
                        <p class="style-image-description">
                            Building of the Ministry of Highways of the Georgian<br>SSR, Tbilisi, Georgia
                        </p>
                    </div>
                    <p class="style-text-main">
                        The late 1950s and early 1960s were a time 
                        of conquest of space, the development of science, technology and automobilization. There was 
                        a demand not just for new architecture for familiar objects, but for the development of new structures 
                        for pre-existing institutions.
                    </p>

                </div>
                <div class="style-item">
                    <p class="style-text-main">
                        The distinctive features of the style are functional austerity of massive forms combined with
                        bold compositional solutions.  Panels, bas-reliefs and mosaics served as decorations.
                    </p>
                    <div class="style-image">
                        <p class="style-image-description">
                            Veliky Novgorod, Russia<br>
                            Novgorod Academic Drama Theater named after F.M. Dostoevsky
                        </p>
                        <img src="./img/style3.png"></img>
                    </div>
                </div>
                <div class="style-item style-item-honest">
                    <div class="style-image">
                        <img src="./img/style4.png">
                        <p class="style-image-description">
                            Central Economics and Mathematics Institute of the RAN,<br>
                            Moscow, Russia
                        </p>
                    </div>
                    <p class="style-text-main">
                        The main part of the structures was reinforced concrete, and for facing the architects used sandstone,
                        shell rock and marble, sometimes real and sometimes artificial - for reasons of economy. And the most
                        noticeable difference from Brutalism is the mass glazing of the surfaces.
                        <br>
                        <br>
                        <br>
                        Despite the huge number of Soviet modernist buildings, the samples of the style began to be considered
                        not housing estates, but buildings made by single author's projects.
                    </p>
                </div>
            </div>
        </div>
        
    </section>
    <section>
        <div class="stages">
            <h2>Stages<br>
                of development</h2>
            <div class="stages-slider">
                <div class="stages-slider-item">
                    <p class="stages-slider-year">1954</p>
                    <div class="stages-slider-card">
                        <div>
                            <h4>Nikita Khrushchev's<br>Speech</h4>
                            <p>
                                It all began on December 7, 1954 with a speech by Nikita Khrushchev 
                                «On the widespread introduction of industrial methods, improving quality 
                                and reducing construction costs», in which he harshly criticized the richly 
                                decorated Stalinist architecture.
                            </p>
                        </div>
                        <img src="./img/stages1.png" alt="">
                        
                    </div>
                </div>
                <div class="stages-slider-item">
                    <p class="stages-slider-year">1955</p>
                    <div class="stages-slider-card">
                        <div>
                            <h4>government <br>
                                decree</h4>
                            <p>
                                On November 4, 1955, the decree «On the Elimination of Superfluous Design 
                                and Construction» was issued. The new buildings were expected to be primarily 
                                functional and practical. Decorative elements were forbidden in any form.
                            </p>
                        </div>
                        <img src="./img/stages2.png" alt="">
                    </div>
                </div>
                <div class="stages-slider-item">
                    <p class="stages-slider-year">1955 — 1968</p>
                    <div class="stages-slider-card">
                        <div>
                            <h4>Television Tower <br>
                                in Ostankino</h4>
                            <p>
                                On July 15, 1955, the Council of Ministers of the USSR issued a decree «On the 
                                construction of a new television broadcasting center». Construction began in the 
                                summer of 1960, even before the final approval of the project. 
                            </p>
                        </div>
                        <img src="./img/stages3.png" alt="">
                    </div>
                </div>
                <div class="stages-slider-item">
                    <p class="stages-slider-year">1970 — 1977</p>
                    <div class="stages-slider-card">
                        <div>
                            <h4>Russian state news<br> agency (TASS)</h4>
                            <p>
                                The main peculiarity of the facades are the two-storey window screens, whose 
                                unusual shape prevented the building from falling out of the square's ensemble, 
                                giving the 9-storey building the appearance of a 4-storey structure.  
                            </p>
                        </div>
                        <img src="./img/stage4.png" alt="">
                    </div>
                </div>
                <div class="stages-slider-item">
                    <p class="stages-slider-year">1954</p>
                    <div class="stages-slider-card">
                        <div>
                            <h4>Nikita Khrushchev's<br>Speech</h4>
                            <p>
                                It all began on December 7, 1954 with a speech by Nikita Khrushchev 
                                «On the widespread introduction of industrial methods, improving quality 
                                and reducing construction costs», in which he harshly criticized the richly 
                                decorated Stalinist architecture.
                            </p>
                        </div>
                        <img src="./img/stages1.png" alt="">
                        
                    </div>
                </div>
                <div class="stages-slider-item">
                    <p class="stages-slider-year">1955</p>
                    <div class="stages-slider-card">
                        <div>
                            <h4>government <br>
                                decree</h4>
                            <p>
                                On November 4, 1955, the decree «On the Elimination of Superfluous Design 
                                and Construction» was issued. The new buildings were expected to be primarily 
                                functional and practical. Decorative elements were forbidden in any form.
                            </p>
                        </div>
                        <img src="./img/stages2.png" alt="">
                    </div>
                </div>
                <div class="stages-slider-item">
                    <p class="stages-slider-year">1955 — 1968</p>
                    <div class="stages-slider-card">
                        <div>
                            <h4>Television Tower <br>
                                in Ostankino</h4>
                            <p>
                                On July 15, 1955, the Council of Ministers of the USSR issued a decree «On the 
                                construction of a new television broadcasting center». Construction began in the 
                                summer of 1960, even before the final approval of the project. 
                            </p>
                        </div>
                        <img src="./img/stages3.png" alt="">
                    </div>
                </div>
                <div class="stages-slider-item">
                    <p class="stages-slider-year">1970 — 1977</p>
                    <div class="stages-slider-card">
                        <div>
                            <h4>Russian state news<br> agency (TASS)</h4>
                            <p>
                                The main peculiarity of the facades are the two-storey window screens, whose 
                                unusual shape prevented the building from falling out of the square's ensemble, 
                                giving the 9-storey building the appearance of a 4-storey structure.  
                            </p>
                        </div>
                        <img src="./img/stage4.png" alt="">
                    </div>
                </div>

            </div>
        </div>
    </section>

    <script>


        // elements
        const styleHeader = document.querySelector('.style h2');
        const stagesHeader = document.querySelector('.stages h2');
        const styleElements = document.querySelectorAll('.style-image');
        const styleTextList = document.querySelectorAll('.style-text-main');

        const stagesSlider = document.querySelector('.stages-slider');
        const stagedSliderItems = document.querySelectorAll('.stages-slider-item');

        // constants
        const itemWidth = stagedSliderItems[0].offsetWidth;
        const slideGap = 24;

        // functions
        function addAnimation(element, additionalOffset, animationClass) {
            document.addEventListener('scroll', () => {
                if (window.scrollY > element.offsetTop - additionalOffset) {
                    element.classList.add(animationClass);
                }
            })
        }

        function startSlider() {
            stagesSlider.style.height = stagedSliderItems[0].clientHeight + "px";
            stagedSliderItems[0].style.left = 0;
            stagedSliderItems[stagedSliderItems.length -1 ].style.left = -itemWidth - slideGap + 'px';
            function changeStageSlide(el, maxLeft, slideWidth) {
                const curentLeft = el.style.left.replace('px', '');
                console.log(el.offsetWidth);
                if (curentLeft <= maxLeft) {
                    el.style.left = +curentLeft + 20 + 'px';
                } else {
                    el.style.left = (-slideWidth + 40) * 2 + 'px';
                    el.style.display = 'none';
                };
                if (curentLeft > window.innerWidth && el.style.display !== 'none') {
                    el.style.display = 'none';
                };

                if ((el.style.display === 'none') && (curentLeft > -slideWidth) && !(curentLeft > window.innerWidth)) {
                    el.style.display = 'block';
                };
            };
            stagedSliderItems.forEach((element, index) => {
                if (index !== 0 && index !== stagedSliderItems.length - 1) {
                    const prevLeft = stagedSliderItems[index-1].style.left.replace('px', '') || 0;
                    const newLeft = +prevLeft + +itemWidth + slideGap;
                    element.style.left = newLeft + 'px';
                };
                setInterval(() => {
                    changeStageSlide(element, (stagedSliderItems.length - 2) * (slideGap + itemWidth), itemWidth + slideGap*2)
                }, 2000)
            });
        };

        // handlers
        startSlider();
        addAnimation(styleHeader, 400, 'swipeleft');
        addAnimation(stagesHeader, 1000, 'swiperight');
        
        styleElements.forEach((el) => {
            addAnimation(el, 500, 'opacityzeromax')
        });
        styleTextList.forEach((el) => {
            addAnimation(el, 500, 'style-text-main_display')
        });

        // unrefactoring logic
        

        
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    
</body>
</html>